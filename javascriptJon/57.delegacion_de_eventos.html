<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    :root{
        --yellow-color: #f7df1e;
        --dark-color: #222;

    }

    .cards{
        border: thin solid var(--dark-color);
        padding: 1rem;
    }

    .card{
        display: inline-block;
        background-color: var(--dark-color);
        color: var(--yellow-color);
    }

    .card figcaption{
        padding: 1rem;
    }

    .rotate-45{
        transform: rotate(45deg);
    }

    .rotate-135{
        transform: rotate(135deg);
    }

    .opacity-80{
        opacity: .8;
    }

    .sepia{
        filter: sepia(1);
    }

    .flujoEventos div{
        padding: 4rem;
        font-size: 2rem;
        text-align: center;

    }

    .uno{
        background-color: yellow;
    }
    .dos{
        background-color: gold;
    }
    .tres{
        background-color: lightyellow;
    }
</style>
<body>
    

    <h4>Flujo de eventos</h4>

    <section class="flujoEventos">
        <div class="uno">1
            <div class="dos">2
                <div class="tres">3
                    <a href="https://google.com" target="_blank" rel="noopener">google</a>
                </div>
            </div>
        </div>
        
    </section>
    <script>
        
        function flujoEventos(evento){
            console.log(`Hola te saluda ${evento.target.className}, el click lo origino ${evento.target.className}`);

        }
        
        
        document.addEventListener('click',(e)=>{

            console.log(e);
            console.log(`click en ${e.target}`);//el target hace referencia al elemento al que se le hizo click

            if(e.target.matches('.flujoEventos a')){//con matches usando css veremos si corresponde al elemento al que asignaremos un evento, eso si en la consola me salen todos los elementos como [object HTMLBodyElement] o otro parecido, pero parece ser que el matches si que me esta pillando este enlace

                alert(`hola soy tu amigo y docente digital jonathan mircha ${e}`);

                e.preventDefault();//mircha explica que como el listener esta en el document, y el no tiene un elemento padre, no necesitamos hacer un del stoppropagation
            }

            if(e.target.matches('.flujoEventos div')){
                flujoEventos(e);
            }
        });//con esto de la delegacion, tendriamos un solo listener el del document,, y desde el con condicionales indicamos que codigo desencadenaran sus hijos dentro al darles click
    </script>
</body>
</html>